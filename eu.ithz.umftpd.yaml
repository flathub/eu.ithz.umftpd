app-id: eu.ithz.umftpd
runtime: org.gnome.Platform
runtime-version: '42'
sdk: org.gnome.Sdk
command: umftpd
finish-args:
- --share=ipc
- --socket=wayland
- --socket=fallback-x11
- --device=dri
- --share=network
- --filesystem=xdg-run/gvfsd
- --filesystem=xdg-public-share
- --talk-name=org.gtk.vfs.*
modules:
- name: umftpd
  buildsystem: simple
  build-commands:
  - pip3 install --prefix=/app --no-index --find-links="file://${PWD}" --ignore-installed setuptools==63.2.0
  - pip3 install --prefix=/app --no-index --find-links="file://${PWD}" .
  - mv flatpak/app/* /app/
  sources:
  - type: git
    url: https://gitlab.com/ergoithz/umftpd/
    tag: v0.1.1
    commit: a76a44bc56ab3add98c456bc07e9c36227c859f6
  - type: file
    url: https://files.pythonhosted.org/packages/c0/6c/9f840c2e55b67b90745af06a540964b73589256cb10cc10057c87ac78fc2/wheel-0.37.1.tar.gz
    sha256: e9a504e793efbca1b8e0e9cb979a249cf4a0a7b5b8c9e8b65a5e39d49529c1c4
  - type: file
    url: https://files.pythonhosted.org/packages/a4/53/bfc6409447ca024558b8b19d055de94c813c3e32c0296c48a0873a161cf5/setuptools-63.2.0-py3-none-any.whl
    sha256: 0d33c374d41c7863419fc8f6c10bfe25b7b498aa34164d135c622e52580c6b16
  - type: file
    url: https://files.pythonhosted.org/packages/d3/91/4df247dd4da18b72b5bbabe1fa2b85029c34e1d6f0afdd6329d15d6bf2b5/importlib_resources-5.9.0-py3-none-any.whl
    sha256: f78a8df21a79bcc30cfd400bdc38f314333de7c0fb619763f6b9dabab8268bb7
  - type: file
    url: https://files.pythonhosted.org/packages/f0/36/639d6742bcc3ffdce8b85c31d79fcfae7bb04b95f0e5c4c6f8b206a038cc/zipp-3.8.1-py3-none-any.whl
    sha256: 47c40d7fe183a6f21403a199b3e4192cca5774656965b0a4988ad2f8feb5f009
  - type: file
    url: https://files.pythonhosted.org/packages/20/8b/66600f5851ec7893ace9b74445d7eaf3499571b347e339d18c76c876b0f9/cryptography-37.0.4-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl
    sha256: f2dcb0b3b63afb6df7fd94ec6fbddac81b5492513f7b0436210d390c14d46ee8
    only-arches:
    - x86_64
  - type: file
    url: https://files.pythonhosted.org/packages/fd/5a/f47456f062b0c5bd828198992fca1f78bcc7aeadd216d9ce6c3348188b92/cryptography-37.0.4-cp36-abi3-manylinux_2_17_aarch64.manylinux2014_aarch64.whl
    sha256: 80f49023dd13ba35f7c34072fa17f604d2f19bf0989f292cedf7ab5770b87a0b
    only-arches:
    - aarch64
  - type: file
    url: https://files.pythonhosted.org/packages/62/d5/5f610ebe421e85889f2e55e33b7f9a6795bd982198517d912eb1c76e1a53/pycparser-2.21-py2.py3-none-any.whl
    sha256: 8ee45429555515e1f6b185e78100aea234072576aa43ab53aefcae078162fca9
  - type: file
    url: https://files.pythonhosted.org/packages/2d/86/3ca57cddfa0419f6a95d1c8478f8f622ba597e3581fd501bbb915b20eb75/cffi-1.15.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl
    sha256: 5d598b938678ebf3c67377cdd45e09d431369c3b1a5b331058c338e201f12b27
    only-arches:
    - x86_64
  - type: file
    url: https://files.pythonhosted.org/packages/77/b7/d3618d612be01e184033eab90006f8ca5b5edafd17bf247439ea4e167d8a/cffi-1.15.1-cp39-cp39-manylinux_2_17_aarch64.manylinux2014_aarch64.whl
    sha256: 6c9a799e985904922a4d207a94eae35c78ebae90e128f0c4e521ce339396be9d
    only-arches:
    - aarch64
  - type: file
    url: https://files.pythonhosted.org/packages/d5/9f/9c0e3288b85f907a008f9d31318b0e4de31b2f67724a8745e633741f609c/pyOpenSSL-22.0.0-py2.py3-none-any.whl
    sha256: ea252b38c87425b64116f808355e8da644ef9b07e429398bfece610f893ee2e0
  - type: file
    url: https://files.pythonhosted.org/packages/31/61/63ef60aca6de07eba1639d9d47f3f8e29462e8bb49d6a8dce9aeff240646/pyftpdlib-1.5.6.tar.gz
    sha256: fda655d81f29af52885ca2f8a2704134baed540f16d66a0b26e8fdfafd12db5e
